<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>bot.gr - Submit Bot</title>
<style>
body {margin:0;height:100vh;background:#0f1220;display:flex;align-items:center;justify-content:center;font-family:Arial,Helvetica,sans-serif;position:relative}
.user-info {position:absolute;top:20px;right:20px;display:flex;align-items:center;gap:10px;color:#fff;font-weight:bold;cursor:pointer}
.user-info img {width:40px;height:40px;border-radius:50%}
.panel {width:480px;padding:30px;background:#161a2b;border-radius:12px;box-shadow:0 10px 30px rgba(0,0,0,0.4)}
.panel h2 {color:#fff;margin-bottom:20px;text-align:center}
label {display:block;color:#ccc;margin-bottom:6px;font-weight:bold}
input[type=text],textarea {width:100%;padding:10px;margin-bottom:16px;border-radius:8px;border:none;outline:none;resize:vertical;background:#1f2233;color:#fff}
input::placeholder,textarea::placeholder {color:#999}
.submit-btn {width:100%;padding:12px;background:#5865F2;color:#fff;font-weight:bold;border:none;border-radius:8px;cursor:pointer;transition:background 0.2s ease,transform 0.2s ease;opacity:0.5;pointer-events:none}
.submit-btn.active {opacity:1;pointer-events:auto}
.submit-btn:hover {background:#4752c4;transform:translateY(-2px)}
.error {color:#ff6b6b;margin-bottom:12px;font-size:14px;text-align:center}
</style>
</head>
<body>
<div class="user-info" id="userInfo" style="display:none" onclick="logout()">
<img id="userAvatar" src="" alt="Avatar">
<span id="userName"></span>
</div>
<div class="panel">
<h2>Submit Your Bot</h2>
<form id="botForm">
<label for="botName">Bot Name</label>
<input type="text" id="botName" placeholder="Enter bot name" required>
<label for="botDescription">Bot Description</label>
<textarea id="botDescription" placeholder="Enter bot description" required></textarea>
<label for="botFeatures">Bot Features</label>
<textarea id="botFeatures" placeholder="Enter bot features" required></textarea>
<label for="botTags">Bot Tags (max 5, comma-separated)</label>
<input type="text" id="botTags" placeholder="example: music, fun, moderation" required>
<div class="error" id="error"></div>
<button type="submit" class="submit-btn" id="submitBtn">Submit & Join Discord</button>
</form>
</div>
<script>
const clientId="1454214634872770561";
const redirectUri=encodeURIComponent(window.location.origin+"/");
const scope="identify";
const form=document.getElementById("botForm");
const errorDiv=document.getElementById("error");
const submitBtn=document.getElementById("submitBtn");
const WEBHOOK_URL="https://discord.com/api/webhooks/1454213308264747280/Ff-b_KqrHxDq6lbDeeed_wMsWUPVka_9uFjksHzEHjG2viJVJYvhiF8rsGDHdBd896My";
function login(){window.location.href=`https://discord.com/api/oauth2/authorize?client_id=${clientId}&redirect_uri=${redirectUri}&response_type=token&scope=${scope}`}
function logout(){localStorage.removeItem("discordToken");window.location.reload()}
async function getUser(){let token=localStorage.getItem("discordToken");if(!token){const hash=new URLSearchParams(window.location.hash.replace("#","?"));token=hash.get("access_token");if(token){localStorage.setItem("discordToken",token);window.location.hash=""}else{return login()}}try{const res=await fetch("https://discord.com/api/users/@me",{headers:{"Authorization":`Bearer ${token}`}});const user=await res.json();document.getElementById("userName").textContent=user.username;document.getElementById("userAvatar").src=`https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png?size=128`;document.getElementById("userInfo").style.display="flex";submitBtn.classList.add("active")}catch(err){localStorage.removeItem("discordToken");login()}}
getUser();
form.addEventListener("submit",async function(e){e.preventDefault();errorDiv.textContent="";const name=document.getElementById("botName").value.trim();const description=document.getElementById("botDescription").value.trim();const features=document.getElementById("botFeatures").value.trim();const tags=document.getElementById("botTags").value.split(",").map(t=>t.trim()).filter(t=>t);if(tags.length>5){errorDiv.textContent="You can only add up to 5 tags.";return}const userName=document.getElementById("userName").textContent;const userAvatar=document.getElementById("userAvatar").src;const payload={embeds:[{title:name,description:description,fields:[{name:"Features",value:features},{name:"Tags",value:tags.join(", ")}],color:7506394,footer:{text:userName,icon_url:userAvatar}}]};try{await fetch(WEBHOOK_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(payload)});window.location.href="https://dsc.gg/greekbots"}catch(err){errorDiv.textContent="Failed to send submission. Try again later.";console.error(err)}})
</script>
</body>
</html>
